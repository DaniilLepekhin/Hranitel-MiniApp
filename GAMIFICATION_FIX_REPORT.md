# üéÆ –û–¢–ß–ï–¢ –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ –ì–ï–ô–ú–ò–§–ò–ö–ê–¶–ò–ò

**–î–∞—Ç–∞:** 11 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è:** 2.1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

---

## üìã –û–ë–ó–û–† –ü–†–û–ë–õ–ï–ú

### ‚ùå –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–π –∑–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ**
   - Endpoint —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª, –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–ª—Å—è
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–ª–∏ +20 ‚ö° –∑–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–∫–∞

2. **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**
   - Endpoint —Ä–∞–±–æ—Ç–∞–ª, –Ω–æ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –±—ã–ª–æ
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –≤–∏–¥–µ–ª–∏, –∑–∞ —á—Ç–æ –ø–æ–ª—É—á–∏–ª–∏ —ç–Ω–µ—Ä–≥–∏–∏

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. Backend: –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–π –∑–∞ —É—Ä–æ–∫–∏

**–§–∞–π–ª:** `backend/src/modules/courses/index.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `energiesService`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–∫–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ `energiesService.awardLessonView()` –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–∫–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

```typescript
// üéÅ –ì–ï–ô–ú–ò–§–ò–ö–ê–¶–ò–Ø: –ù–∞—á–∏—Å–ª–∏—Ç—å +20 –≠–Ω–µ—Ä–≥–∏–∏ –∑–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–∞
if (isNewCompletion && completedDay) {
  try {
    const lessonId = `${id}:day${completedDay}`;
    await energiesService.awardLessonView(user!.id, lessonId);
    logger.info({ userId: user!.id, courseId: id, dayNumber: completedDay },
      'Awarded 20 energy for lesson completion'
    );
  } catch (error) {
    logger.error({ error, userId: user!.id, courseId: id, dayNumber: completedDay },
      'Failed to award energy for lesson'
    );
  }
}
```

**–°—Ç—Ä–æ–∫–∏:** 268-285

---

### 2. Backend: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è

**–§–∞–π–ª:** `backend/src/modules/energy-points/service.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –∑–∞ —É—Ä–æ–∫
- ‚úÖ SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –¥—É–±–ª–µ–π –ø–æ `lessonId` –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç `{ success: false }` –µ—Å–ª–∏ —É–∂–µ –Ω–∞—á–∏—Å–ª—è–ª–∏

```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –Ω–∞—á–∏—Å–ª—è–ª–∏ –ª–∏ —É–∂–µ –∑–∞ —ç—Ç–æ—Ç —É—Ä–æ–∫
const existing = await db
  .select()
  .from(energyTransactions)
  .where(
    and(
      eq(energyTransactions.userId, userId),
      eq(energyTransactions.reason, '–ü—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–∞'),
      sql`metadata->>'lessonId' = ${lessonId}`
    )
  )
  .limit(1);

if (existing.length > 0) {
  logger.info(`[Energies] Lesson ${lessonId} already awarded for user ${userId}`);
  return { success: false, message: 'Already awarded for this lesson' };
}
```

**–°—Ç—Ä–æ–∫–∏:** 220-237

---

### 3. Backend: API –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —ç–Ω–µ—Ä–≥–∏–π

**–§–∞–π–ª:** `backend/src/modules/energy-points/index.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `authMiddleware` –¥–ª—è –∑–∞—â–∏—Ç—ã endpoints
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω –ø—Ä–µ—Ñ–∏–∫—Å —Å `/api/energies` –Ω–∞ `/api/v1/energies`
- ‚úÖ Endpoints —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `user!.id` –∏–∑ middleware (–Ω–µ —Ç—Ä–µ–±—É—é—Ç `userId` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã Swagger –æ–ø–∏—Å–∞–Ω–∏—è

**Endpoints:**
- `GET /api/v1/energies/balance` - –±–∞–ª–∞–Ω—Å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/v1/energies/history?limit=50` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–°—Ç—Ä–æ–∫–∏:** 1-84

---

### 4. Frontend: API –∫–ª–∏–µ–Ω—Ç

**–§–∞–π–ª:** `webapp/src/lib/api.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `energiesApi.getBalance()` –∏ `energiesApi.getHistory(limit)`
- ‚úÖ –£–±—Ä–∞–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `userId` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Ç–∏–ø `EnergyTransaction` (–¥–æ–±–∞–≤–ª–µ–Ω—ã `expiresAt`, `isExpired`)

```typescript
// Energies (–ö–û–î –î–ï–ù–ï–ì 4.0)
export const energiesApi = {
  getBalance: () =>
    api.get<{ success: boolean; balance: number }>('/energies/balance'),
  getHistory: (limit?: number) =>
    api.get<{ success: boolean; transactions: EnergyTransaction[] }>('/energies/history', {
      params: { limit: limit?.toString() }
    }),
};
```

**–°—Ç—Ä–æ–∫–∏:** 254-262

---

### 5. Frontend: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏ —ç–Ω–µ—Ä–≥–∏–π

**–§–∞–π–ª:** `webapp/src/components/EnergyHistory.tsx` (**–ù–û–í–´–ô –§–ê–ô–õ**)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚úÖ –ò–∫–æ–Ω–∫–∏ –¥–æ—Ö–æ–¥–æ–≤ (‚¨ÜÔ∏è –∑–µ–ª–µ–Ω—ã–π) –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ (‚¨áÔ∏è –∫—Ä–∞—Å–Ω—ã–π)
- ‚úÖ –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è ("2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥")
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —ç–Ω–µ—Ä–≥–∏–π
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞—Ç–µ —Å–≥–æ—Ä–∞–Ω–∏—è
- ‚úÖ Loading skeleton
- ‚úÖ Empty state —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `<EnergyHistory limit={10} />` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `<TransactionItem />` - —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–î–∏–∑–∞–π–Ω:**
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —Ç–µ–Ω—è–º–∏
- –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (–∑–µ–ª–µ–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π layout
- –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ (`date-fns/locale/ru`)

**–°—Ç—Ä–æ–∫–∏:** 1-146

---

### 6. Frontend: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª—å

**–§–∞–π–ª:** `webapp/src/components/tabs/ProfileTab.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω `<EnergyHistory />`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∑–∞–ø—Ä–æ—Å –±–∞–ª–∞–Ω—Å–∞ (—É–±—Ä–∞–Ω `userId`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `staleTime: 10000` –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω placeholderData –∏–∑ `user.energies`
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ—Å–ª–µ –±–ª–æ–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏

```tsx
{/* ===== –ò–°–¢–û–†–ò–Ø –≠–ù–ï–†–ì–ò–ô ===== */}
<div className="mx-[30px] mb-6">
  <EnergyHistory limit={10} />
</div>
```

**–°—Ç—Ä–æ–∫–∏:** 10, 26-32, 579-581

---

### 7. Frontend: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–§–∞–π–ª:** `webapp/package.json`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `date-fns` –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç

```bash
npm install date-fns
```

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´

### ‚úÖ –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–π –∑–∞ —É—Ä–æ–∫–∏**
   - ‚úÖ –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è +20 ‚ö°
   - ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∑–∞ –æ–¥–∏–Ω —É—Ä–æ–∫
   - ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π

2. **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**
   - ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –æ–ø–µ—Ä–∞—Ü–∏–π
   - ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ —Ü–≤–µ—Ç–∞–º–∏
   - ‚úÖ –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è ("2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥")
   - ‚úÖ –ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —ç–Ω–µ—Ä–≥–∏–π

3. **–ë–∞–ª–∞–Ω—Å —ç–Ω–µ—Ä–≥–∏–π**
   - ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
   - ‚úÖ –ö–µ—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–∫–∞

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å –ª—é–±–æ–π —É—Ä–æ–∫ –∫—É—Ä—Å–∞
2. –ù–∞–∂–∞—Ç—å "–ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å –≤ –ø—Ä–æ—Ñ–∏–ª–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ë–∞–ª–∞–Ω—Å —É–≤–µ–ª–∏—á–∏–ª—Å—è –Ω–∞ +20 ‚ö°
- ‚úÖ –í –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—è–≤–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å "–ü—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–∞"
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–æ–≥–æ –∂–µ —É—Ä–æ–∫–∞ –Ω–µ –Ω–∞—á–∏—Å–ª—è–µ—Ç —ç–Ω–µ—Ä–≥–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –¥–æ "–ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –æ–ø–µ—Ä–∞—Ü–∏–π"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–∏–¥–Ω—ã –≤—Å–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∏ —Å–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìù –°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –î–û–ö–£–ú–ï–ù–¢–£ "–ì–ï–ô–ú–ò–§–ò–ö–ê–¶–ò–Ø"

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|---------|------------|
| –ü—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–∞: +20 ‚ö° | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ |
| –°—Ä–æ–∫ –∂–∏–∑–Ω–∏: 6 –º–µ—Å—è—Ü–µ–≤ | ‚úÖ –£–ñ–ï –ë–´–õ–û | –í `energyTransactions.expiresAt` |
| –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `<EnergyHistory />` |
| –ë–∞–ª–∞–Ω—Å –≤ –ø—Ä–æ—Ñ–∏–ª–µ | ‚úÖ –£–ñ–ï –ë–´–õ–û | –£–ª—É—á—à–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ |
| –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –∫–ª—É–±–∞: +500 ‚ö° | ‚úÖ –£–ñ–ï –ë–´–õ–û | –í webhook –æ–ø–ª–∞—Ç—ã |

---

## ‚ö†Ô∏è –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û (–¢—Ä–µ–±—É–µ—Ç —Ä–∞–±–æ—Ç—ã —Å –ë–û–¢–û–ú)

–°–ª–µ–¥—É—é—â–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ **Telegram –±–æ—Ç–∞** (–Ω–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ):

1. ‚ùì **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç** (—á–∞—Ç –¥–µ—Å—è—Ç–∫–∏) - `#–æ—Ç—á–µ—Ç` ‚Üí +50 ‚ö°
2. ‚ùì **–°—É–±–±–æ—Ç–Ω—è—è –ø—Ä–∞–∫—Ç–∏–∫–∞** (—á–∞—Ç –≥–æ—Ä–æ–¥–∞) - `#–ø—Ä–∞–∫—Ç–∏–∫–∞` ‚Üí +50 ‚ö°
3. ‚ùì **–ò–Ω—Å–∞–π—Ç/–û—Ç–∑—ã–≤** (—á–∞—Ç –≥–æ—Ä–æ–¥–∞) - `#–∏–Ω—Å–∞–π—Ç` ‚Üí +40 ‚ö°
4. ‚ùì **–£—á–∞—Å—Ç–∏–µ –≤ —Å–æ–∑–≤–æ–Ω–µ** (—á–∞—Ç –≥–æ—Ä–æ–¥–∞) - `#—Å–æ–∑–≤–æ–Ω` ‚Üí +100 ‚ö°
5. ‚ùì **–û—Ç–º–µ—Ç–∫–∞ –≤ Stories** (—á–∞—Ç –≥–æ—Ä–æ–¥–∞) - `#—Å—Ç–æ—Ä–∏—Å` ‚Üí +200 ‚ö°

**–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –≤ `backend/src/modules/bot/index.ts`**

---

## üöÄ –î–ï–ü–õ–û–ô

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

```bash
# 1. Backend
cd backend
bun install
# –ö–æ–¥ —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

# 2. Frontend
cd ../webapp
npm install
npm run build
npm start

# 3. Docker (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π —Ä–µ—Å—Ç–∞—Ä—Ç)
docker compose restart backend webapp
```

---

## üìà –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ:

1. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –∑–∞ —É—Ä–æ–∫–∏**
   - `SELECT COUNT(*) FROM energy_transactions WHERE reason = '–ü—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–∞' AND created_at > NOW() - INTERVAL '1 day'`

2. **–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
   - `SELECT AVG(energies) FROM users WHERE is_pro = true`

3. **–¢–æ–ø –ø—Ä–∏—á–∏–Ω –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π**
   - `SELECT reason, COUNT(*), SUM(amount) FROM energy_transactions WHERE type = 'income' GROUP BY reason ORDER BY COUNT(*) DESC`

---

## üë®‚Äçüíª –ê–í–¢–û–†

- **–í—ã–ø–æ–ª–Ω–∏–ª:** Claude (Anthropic)
- **–ü—Ä–æ–≤–µ—Ä–∏–ª:** Daniil Lepekhin
- **–î–∞—Ç–∞:** 11.02.2026

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ó–ê–ü–£–°–ö–û–ú

- [x] Backend: –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –∑–∞ —É—Ä–æ–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Backend: –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [x] Backend: API endpoints –∑–∞—â–∏—â–µ–Ω—ã auth
- [x] Frontend: API –∫–ª–∏–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω
- [x] Frontend: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω
- [x] Frontend: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- [x] Frontend: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ development
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ production
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ –≤–∫–ª—é—á–µ–Ω

---

**üéâ –í–°–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´!**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –ü–æ–ª—É—á–∞—é—Ç —ç–Ω–µ—Ä–≥–∏–∏ –∑–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–æ–≤
- ‚úÖ –í–∏–¥—è—Ç –∏—Å—Ç–æ—Ä–∏—é –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π
- ‚úÖ –ú–æ–≥—É—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–π –±–∞–ª–∞–Ω—Å

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –î–æ—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞ (—Ö–µ—à—Ç–µ–≥–∏ –≤ —á–∞—Ç–∞—Ö)
